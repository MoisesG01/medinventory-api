generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

enum UserType {
  Administrador
  Gestor
  Tecnico
  UsuarioComum
}

enum StatusOperacional {
  DISPONIVEL
  EM_USO
  EM_MANUTENCAO
  INATIVO
  SUCATEADO
}

model User {
  id           String        @id @default(uuid())
  username     String        @unique
  password     String
  email        String        @unique
  nome         String
  tipo         UserType      @default(UsuarioComum)
  createdAt    DateTime      @default(now())
  updatedAt    DateTime      @updatedAt
  equipamentos Equipamento[]
}

model Equipamento {
  id                    String            @id @default(uuid())
  nome                  String
  tipo                  String
  fabricante            String
  modelo                String
  numeroSerie           String?
  codigoPatrimonial     String?
  setorAtual            String?
  statusOperacional     StatusOperacional
  dataAquisicao         DateTime?
  valorAquisicao        Float?
  dataFimGarantia       DateTime?
  vidaUtilEstimativa    Int?
  registroAnvisa        String?
  classeRisco           String?
  dataUltimaManutencao  DateTime?
  dataProximaManutencao DateTime?
  responsavelTecnico    String?
  criticidade           String?
  observacoes           String?
  userId                String?
  user                  User?                @relation(fields: [userId], references: [id])
  createdAt             DateTime             @default(now())
  updatedAt             DateTime             @updatedAt
}
